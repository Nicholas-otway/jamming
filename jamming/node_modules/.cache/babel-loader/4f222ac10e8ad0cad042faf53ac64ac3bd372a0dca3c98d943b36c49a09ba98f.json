{"ast":null,"code":"/*let accessToken = \"\";\nconst clientID = \"16d9887644e0457db5532ebebd476d30\";\nconst redirectUrl = \"http://localhost:3000\";\n//const redirectUrl = \"https://syphersjammmingproject.surge.sh\";\n\nconst Spotify = {\n  getAccessToken() {\n    // First check for the access token\n    if (accessToken) return accessToken;\n\n    const tokenInURL = window.location.href.match(/access_token=([^&]*)/);\n    const expiryTime = window.location.href.match(/expires_in=([^&]*)/);\n\n    // Second check for the access token\n    if (tokenInURL && expiryTime) {\n      // setting access token and expiry time variables\n      accessToken = tokenInURL[1];\n      const expiresIn = Number(expiryTime[1]);\n\n      // Setting the access token to expire at the value for expiration time\n      window.setTimeout(() => (accessToken = \"\"), expiresIn * 1000);\n      // clearing the url after the access token expires\n      window.history.pushState(\"Access token\", null, \"/\");\n      return accessToken;\n    }\n\n    // Third check for the access token if the first and second check are both false\n    const redirect = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirectUrl}`;\n    window.location = redirect;\n  },\n\n  search(term) {\n    accessToken = Spotify.getAccessToken();\n    return fetch(`https://api.spotify.com/v1/search?type=track&q=${term}`, {\n      method: \"GET\",\n      headers: { Authorization: `Bearer ${accessToken}` },\n    })\n      .then((response) => response.json())\n      .then((jsonResponse) => {\n        if (!jsonResponse) {\n          console.error(\"Response error\");\n        }\n        return jsonResponse.tracks.items.map((t) => ({\n          id: t.id,\n          name: t.name,\n          artist: t.artists[0].name,\n          album: t.album.name,\n          uri: t.uri,\n        }));\n      });\n  },\n};\nexport { Spotify };*/\n\nlet accessToken = \"\";\nconst clientID = \"d6dcfa48eb5d4b40a1e37e15b909dff9\";\nconst redirectUrl = \"http://localhost:3000\";\nconst Spotify = {\n  getAccessToken() {\n    //first check for the access token\n    if (accessToken) return accessToken;\n    const urlAccessToken = window.location.href.match(/access_token=([^&]*)/);\n    const urlTokenExpiration = window.location.href.match(/expires_in=([^&]*)/);\n\n    //second check for the access token\n    if (urlAccessToken && urlTokenExpiration) {\n      //setting access token and expiry time var;\n      accessToken = urlAccessToken[1];\n      const tokenExpire = Number(urlTokenExpiration[1]);\n      //setting the function which will reset the access token when it  expires\n      window.setTimeout(() => accessToken = \"\", tokenExpire * 1000);\n\n      //Cleari the url after the access token is expired\n      window.history.pushState(\"Access token\", null, \"/\");\n      return accessToken;\n    }\n\n    //third check for the access token if the first and second check are both false\n    const redirect = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirectUrl}`;\n    window.location = redirect;\n  },\n  search(term) {\n    accessToken = Spotify.getAccessToken();\n    return fetch(`https://api.spotify.com/v1/search?type=track&q=${term}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(response => response.json()).then(jsonResponse => {\n      if (!jsonResponse) {\n        console.log(\"Error\");\n      }\n      return jsonResponse.tracks.items.map(trac => ({\n        id: trac.id,\n        name: trac.name,\n        artist: trac.artists[0].name,\n        album: trac.album.name,\n        uri: trac.uri\n      }));\n    });\n  },\n  savePlaylist(name, trackURI) {\n    if (!name || !trackURI) return;\n    const secondAccessToken = getAccessToken();\n    const header = {\n      A\n    };\n  }\n};\nexport { Spotify };","map":{"version":3,"names":["accessToken","clientID","redirectUrl","Spotify","getAccessToken","urlAccessToken","window","location","href","match","urlTokenExpiration","tokenExpire","Number","setTimeout","history","pushState","redirect","search","term","fetch","method","headers","Authorization","then","response","json","jsonResponse","console","log","tracks","items","map","trac","id","name","artist","artists","album","uri","savePlaylist","trackURI","secondAccessToken","header","A"],"sources":["/Users/grimotway/Documents/ReactJammingProject/jamming/src/util/Spotify/Spotify.js"],"sourcesContent":["/*let accessToken = \"\";\nconst clientID = \"16d9887644e0457db5532ebebd476d30\";\nconst redirectUrl = \"http://localhost:3000\";\n//const redirectUrl = \"https://syphersjammmingproject.surge.sh\";\n\nconst Spotify = {\n  getAccessToken() {\n    // First check for the access token\n    if (accessToken) return accessToken;\n\n    const tokenInURL = window.location.href.match(/access_token=([^&]*)/);\n    const expiryTime = window.location.href.match(/expires_in=([^&]*)/);\n\n    // Second check for the access token\n    if (tokenInURL && expiryTime) {\n      // setting access token and expiry time variables\n      accessToken = tokenInURL[1];\n      const expiresIn = Number(expiryTime[1]);\n\n      // Setting the access token to expire at the value for expiration time\n      window.setTimeout(() => (accessToken = \"\"), expiresIn * 1000);\n      // clearing the url after the access token expires\n      window.history.pushState(\"Access token\", null, \"/\");\n      return accessToken;\n    }\n\n    // Third check for the access token if the first and second check are both false\n    const redirect = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirectUrl}`;\n    window.location = redirect;\n  },\n\n  search(term) {\n    accessToken = Spotify.getAccessToken();\n    return fetch(`https://api.spotify.com/v1/search?type=track&q=${term}`, {\n      method: \"GET\",\n      headers: { Authorization: `Bearer ${accessToken}` },\n    })\n      .then((response) => response.json())\n      .then((jsonResponse) => {\n        if (!jsonResponse) {\n          console.error(\"Response error\");\n        }\n        return jsonResponse.tracks.items.map((t) => ({\n          id: t.id,\n          name: t.name,\n          artist: t.artists[0].name,\n          album: t.album.name,\n          uri: t.uri,\n        }));\n      });\n  },\n};\nexport { Spotify };*/\n\n\n\n\n\nlet accessToken = \"\";\nconst clientID = \"d6dcfa48eb5d4b40a1e37e15b909dff9\";\nconst redirectUrl = \"http://localhost:3000\";\n\n\n\n\nconst Spotify = {\n  getAccessToken() {\n    //first check for the access token\n    if (accessToken) return accessToken;\n\n    const urlAccessToken = window.location.href.match(/access_token=([^&]*)/);\n    const urlTokenExpiration = window.location.href.match(/expires_in=([^&]*)/);\n\n    //second check for the access token\n    if (urlAccessToken && urlTokenExpiration) {\n      //setting access token and expiry time var;\n      accessToken = urlAccessToken[1];\n      const tokenExpire = Number(urlTokenExpiration[1]);\n      //setting the function which will reset the access token when it  expires\n      window.setTimeout(() => (accessToken = \"\"), tokenExpire * 1000);\n\n      //Cleari the url after the access token is expired\n      window.history.pushState(\"Access token\", null, \"/\");\n      return accessToken;\n    }\n\n    //third check for the access token if the first and second check are both false\n    const redirect = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirectUrl}`;\n    window.location = redirect;\n  },\n\n  search(term) {\n    accessToken = Spotify.getAccessToken();\n    return fetch(`https://api.spotify.com/v1/search?type=track&q=${term}`,{\n      method: \"GET\",\n      headers: { Authorization: `Bearer ${accessToken}` }\n    })\n    .then((response) => response.json())\n    .then(jsonResponse =>{\n        if(!jsonResponse){\n            console.log(\"Error\")\n        }\n          \n        return jsonResponse.tracks.items.map((trac) =>({\n            id: trac.id,\n            name: trac.name,\n            artist: trac.artists[0].name,\n            album: trac.album.name,\n            uri: trac.uri,\n        }))\n    })\n  },\n\n  savePlaylist(name, trackURI){\n    if(!name || !trackURI) return;\n    const secondAccessToken = getAccessToken();\n    const header = {A}\n  }\n};\n\nexport { Spotify };"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMA,IAAIA,WAAW,GAAG,EAAE;AACpB,MAAMC,QAAQ,GAAG,kCAAkC;AACnD,MAAMC,WAAW,GAAG,uBAAuB;AAK3C,MAAMC,OAAO,GAAG;EACdC,cAAcA,CAAA,EAAG;IACf;IACA,IAAIJ,WAAW,EAAE,OAAOA,WAAW;IAEnC,MAAMK,cAAc,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,sBAAsB,CAAC;IACzE,MAAMC,kBAAkB,GAAGJ,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,oBAAoB,CAAC;;IAE3E;IACA,IAAIJ,cAAc,IAAIK,kBAAkB,EAAE;MACxC;MACAV,WAAW,GAAGK,cAAc,CAAC,CAAC,CAAC;MAC/B,MAAMM,WAAW,GAAGC,MAAM,CAACF,kBAAkB,CAAC,CAAC,CAAC,CAAC;MACjD;MACAJ,MAAM,CAACO,UAAU,CAAC,MAAOb,WAAW,GAAG,EAAG,EAAEW,WAAW,GAAG,IAAI,CAAC;;MAE/D;MACAL,MAAM,CAACQ,OAAO,CAACC,SAAS,CAAC,cAAc,EAAE,IAAI,EAAE,GAAG,CAAC;MACnD,OAAOf,WAAW;IACpB;;IAEA;IACA,MAAMgB,QAAQ,GAAG,oDAAoDf,QAAQ,kEAAkEC,WAAW,EAAE;IAC5JI,MAAM,CAACC,QAAQ,GAAGS,QAAQ;EAC5B,CAAC;EAEDC,MAAMA,CAACC,IAAI,EAAE;IACXlB,WAAW,GAAGG,OAAO,CAACC,cAAc,CAAC,CAAC;IACtC,OAAOe,KAAK,CAAC,kDAAkDD,IAAI,EAAE,EAAC;MACpEE,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUtB,WAAW;MAAG;IACpD,CAAC,CAAC,CACDuB,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAACG,YAAY,IAAG;MACjB,IAAG,CAACA,YAAY,EAAC;QACbC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACxB;MAEA,OAAOF,YAAY,CAACG,MAAM,CAACC,KAAK,CAACC,GAAG,CAAEC,IAAI,KAAK;QAC3CC,EAAE,EAAED,IAAI,CAACC,EAAE;QACXC,IAAI,EAAEF,IAAI,CAACE,IAAI;QACfC,MAAM,EAAEH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,CAACF,IAAI;QAC5BG,KAAK,EAAEL,IAAI,CAACK,KAAK,CAACH,IAAI;QACtBI,GAAG,EAAEN,IAAI,CAACM;MACd,CAAC,CAAC,CAAC;IACP,CAAC,CAAC;EACJ,CAAC;EAEDC,YAAYA,CAACL,IAAI,EAAEM,QAAQ,EAAC;IAC1B,IAAG,CAACN,IAAI,IAAI,CAACM,QAAQ,EAAE;IACvB,MAAMC,iBAAiB,GAAGrC,cAAc,CAAC,CAAC;IAC1C,MAAMsC,MAAM,GAAG;MAACC;IAAC,CAAC;EACpB;AACF,CAAC;AAED,SAASxC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}